prefixes:
  rr: http://www.w3.org/ns/r2rml#
  foaf: http://xmlns.com/foaf/0.1/
  xsd: http://www.w3.org/2001/XMLSchema#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  rev: http://purl.org/stuff/rev#
  schema: http://schema.org/
  dct: http://purl.org/dc/terms/
  rml: http://semweb.mmlab.be/ns/rml#
  ql: http://semweb.mmlab.be/ns/ql#
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  metro: https://data.example.org/transport/bcn/metro/ontology#
  geo: http://www.w3.org/2003/01/geo/wgs84_pos#
  geosparql: http://www.opengis.net/ont/geosparql#
  data: https://data.example.org/transport/bcn/metro/resource/
  
mappings:
  MetroLineMapping:
    sources:
      - [csv/linies_metro-updated.csv~csv]
    s: data:metroLine/L$(CODI_LINIA)
    po:
      - [a, metro:MetroLine]
      - [metro:lineId, $(ID_LINIA), xsd:integer]
      - [metro:lineCode, $(CODI_LINIA), xsd:integer]
      - [metro:lineName, $(NOM_LINIA)^^xsd:string]
      - [metro:lineDescription, $(DESC_LINIA)^^xsd:string]
      - [metro:originStation, $(ORIGEN_LINIA)^^xsd:string]
      - [metro:destinationStation, $(DESTI_LINIA)^^xsd:string]
      - [metro:lineColor, $(COLOR_LINIA)^^xsd:string]
      - [metro:auxiliaryColor, $(COLOR_AUX_LINIA)^^xsd:string]
      - [metro:textColor, $(COLOR_TEXT_LINIA)^^xsd:string]
      - [metro:lineOrder, $(ORDRE_LINIA), xsd:integer]
      - [metro:lastUpdated, $(DATA), xsd:date]
      - [metro:hasGeometry, $(GEOMETRY), geosparql:wktLiteral]
      - [rdfs:label, $(NOM_LINIA)^^xsd:string]
      - p: metro:operatedBy
        o: data:operator/$(NOM_OPERADOR)~iri
      - p: metro:belongsToFamily
        o: data:transportFamily/$(NOM_FAMILIA)~iri

  StationMapping:
    sources:
      - [csv/estacions_linia-updated.csv~csv]
    s: data:station/$(CODI_ESTACIO)
    po:
      - [a, metro:Station]
      - [metro:stationId, $(ID_ESTACIO), xsd:integer]
      - [metro:stationCode, $(CODI_ESTACIO), xsd:integer]
      - [metro:stationName, $(NOM_ESTACIO)^^xsd:string]
      - [metro:inauguratedDate, $(DATA_INAUGURACIO), xsd:date]
      - [metro:lastUpdated, $(DATA), xsd:date]
      - [metro:hasGeometry, $(GEOMETRY), geosparql:wktLiteral]
      - [metro:pictogram, $(PICTO)^^xsd:string]
      - [rdfs:label, $(NOM_ESTACIO)^^xsd:string]
      - p: metro:hasAccessibility
        o: data:accessibilityType/$(NOM_TIPUS_ACCESSIBILITAT)~iri
      - p: metro:hasStatus
        o: data:stationStatus/$(NOM_TIPUS_ESTAT)~iri

  StationLineMapping:
    sources:
      - [csv/estacions_linia-updated.csv~csv]
    s: data:stationLine/$(CODI_ESTACIO)_L$(CODI_LINIA)
    po:
      - [a, metro:StationLine]
      - [metro:stationOrder, $(ORDRE_ESTACIO), xsd:integer]
      - p: metro:relatesTo
        o: data:station/$(CODI_ESTACIO)~iri
      - p: metro:onLine
        o: data:metroLine/L$(CODI_LINIA)~iri
      - p: metro:hasServiceType
        o: data:serviceType/$(ID_TIPUS_SERVEI)~iri

  OperatorMapping:
    sources:
      - [csv/linies_metro-updated.csv~csv]
    s: data:operator/$(NOM_OPERADOR)
    po:
      - [a, metro:Operator]
      - [rdfs:label, $(NOM_OPERADOR)^^xsd:string]

  TransportFamilyMapping:
    sources:
      - [csv/linies_metro-updated.csv~csv]
    s: data:transportFamily/$(NOM_FAMILIA)
    po:
      - [a, metro:TransportFamily]
      - [metro:familyOrder, $(ORDRE_FAMILIA), xsd:integer]
      - [rdfs:label, $(NOM_FAMILIA)^^xsd:string]

  ServiceTypeMapping:
    sources:
      - [csv/estacions_linia-updated.csv~csv]
    s: data:serviceType/$(ID_TIPUS_SERVEI)
    po:
      - [a, metro:ServiceType]
      - [rdfs:label, $(DESC_SERVEI)^^xsd:string]

  AccessibilityTypeMapping:
    sources:
      - [csv/estacions_linia-updated.csv~csv]
    s: data:accessibilityType/$(NOM_TIPUS_ACCESSIBILITAT)
    po:
      - [a, metro:AccessibilityType]
      - [rdfs:label, $(NOM_TIPUS_ACCESSIBILITAT)^^xsd:string]

  StationStatusMapping:
    sources:
      - [csv/estacions_linia-updated.csv~csv]
    s: data:stationStatus/$(NOM_TIPUS_ESTAT)
    po:
      - [a, metro:StationStatus]
      - [rdfs:label, $(NOM_TIPUS_ESTAT)^^xsd:string]

  LineHasStationMapping:
    sources:
      - [csv/estacions_linia-updated.csv~csv]
    s: data:metroLine/L$(CODI_LINIA)
    po:
      - p: metro:hasStation
        o: data:station/$(CODI_ESTACIO)~iri
      - p: metro:hasStationLineRelation
        o: data:stationLine/$(CODI_ESTACIO)_L$(CODI_LINIA)~iri